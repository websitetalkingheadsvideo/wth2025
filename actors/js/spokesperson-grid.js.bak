// JavaScript for Actor Grid
$(document).ready(function () {
    var video = $("#talking-heads-video")[0];
    var srcBase = "https://www.websitetalkingheads.com/";
    var name, alt, srcVideo;

    // Handle click on new actor cards
    $(".actor-card").click(function () {
        name = $(this).attr("data-video");
        srcVideo = srcBase + "videos/" + name + ".mp4";
        alt = $(this).attr("data-alt") || name + " - Video Spokesperson";
        prepareVideo();
    });

    // Also support old .poster class for backwards compatibility
    $(".poster").click(function () {
        name = $(this).attr("data-video");
        srcVideo = srcBase + "videos/" + name + ".mp4";
        alt = $(this).attr("alt") || "";
        prepareVideo();
    });

    function prepareVideo() {
        $('#videoModalLabel').text(alt);
        video.pause();
        video.src = srcVideo;
        video.load(); // Force browser to load the new source
    }

    $('#contact').click(function () {
        video.pause();
        $('#form').addClass('visible');
        $('#form').removeClass('invisible');
    });

    $('#contactClose').click(function () {
        $('#form').removeClass('visible');
        $('#form').addClass('invisible');
    });

    $('#mainModal').on('hidden.bs.modal', function () {
        video.pause();
        video.src = ''; // Clear source when modal closes
    });

    $('#mainModal').on('shown.bs.modal', function () {
        $('#form').removeClass('visible');
        $('#form').addClass('invisible');
        video.play();
    });
});
